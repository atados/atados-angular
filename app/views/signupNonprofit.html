<div class="container">
  <div class="heading">
    <h1 class="form-heading">Vamos cadastrar sua ONG!</h1>
  </div>
  <form novalidate class="form-horizontal" name="signupForm" ng-submit="signup()">
    <fieldset>
      <legend>Sobre a ONG</legend>
      <div class="control-group">
        <label class="control-label" for="name">Nome</label>
        <div class="controls">
          <input type='text' name="name" ng-model='nonprofit.name' ng-minlength="3" placeholder="Nome da ONG" required/>
        </div>
      </div>
      <div class="control-group" ng-class="{error:signupForm.slug.$dirty && signupForm.slug.$invalid}">
        <div class="controls">
          <div class="input-prepend">
            <span class="add-on">www.atados.com.br/ong/</span>
            <input type='text' name="slug" ng-model='nonprofit.slug' placeholder="nome-da-ong" required/>
          </div>
          <label class="help-inline" ng-show="signupForm.slug.hasSpace">Não pode ter espaço</label>
          <label class="help-inline" ng-show="signupForm.slug.alreadyUsed">Não pode ser usado pois já existe.</label>
        </div>
      </div>
      <div class="control-group" ng-class="{error:signupForm.details.$dirty && signupForm.details.$invalid}">
        <label class="control-label" for="textarea">Detalhe</label>
        <div class="controls">                     
          <textarea name="details" ng-model='nonprofit.details' ng-minlength="10" ng-maxlength="100" placeholder="Pequena descrição" required></textarea>
          <label class="help-inline" ng-show="signupForm.details.$error.minlength">Não pode ter menos de 10 caracteres.</label>
          <label class="help-inline" ng-show="signupForm.details.$error.maxlength">Não pode ter mais de 100 caracteres.</label>
        </div>
      </div>
      <div class="control-group" ng-class="{error:signupForm.description.$dirty && signupForm.description.$invalid}">
        <label class="control-label">Descrição</label>
        <div class="controls">                     
          <textarea name="description" ng-model='nonprofit.description' ng-minlength="10" placeholder="Descrição" required></textarea>
          <label class="help-inline" ng-show="signupForm.description.$error.minlength">Não pode ter menos de 10 caracteres.</label>
        </div>
      </div>
      <div class="control-group" ng-class="{error:signupForm.phone.$dirty && signupForm.phone.$invalid}">
        <label class="control-label">Telefone</label>
        <div class="controls">                     
          <input type='text' name="phone" ng-model='nonprofit.phone' placeholder="{{'PHONE'|translate}}" required/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">Endereço</label>
        <div class="controls">                     
          <input type='text' name="addressline" ng-model='nonprofit.address.addressline' placeholder="{{'ADDRESS_LINE'|translate}}" required/>
          <input type='text' name="addressnumber" ng-model='nonprofit.address.addressnumber' placeholder="{{'ADDRESS_NUMBER'|translate}}" required/>
          <input type='text' name="neighborhood" ng-model='nonprofit.address.neighborhood' placeholder="{{'NEIGHBORHOOD'|translate}}" required/>
          <input type='text' name="zipcode" ng-model='nonprofit.address.zipcode' placeholder="{{'ZIPCODE'|translate}}" required/>
          <select ng-model="nonprofit.address.suburbs" ng-options="c.name for c in suburbs">
            <option value="">{{'SUBURB'|translate}}</option>
          </select>
          <select ng-model="nonprofit.address.state" ng-options="c.name for c in states">
            <option value="">{{'STATE'|translate}}</option>
          </select>
          <select ng-model="nonprofit.address.city" ng-options="c.name for c in cities">
            <option value="">{{'CITY'|translate}}</option>
          </select>
        </div>
      </div>
    </fieldset>
    <fieldset>
      <legend>Sobre você</legend>
      <div class="control-group">
        <label class="control-label">Nome</label>
        <div class="controls">                     
          <input type='text' name="first_name" ng-model='nonprofit.user.first_name' placeholder="{{'FIRST_NAME'|translate}}" required/>
        </div>
      </div>
      <div class="control-group">
        <label class="control-label">Sobrenome</label>
        <div class="controls">                     
          <input type='text' name="last_name" ng-model='nonprofit.user.last_name' placeholder="{{'LAST_NAME'|translate}}" required/>
        </div>
      </div>
      <div class="control-group" ng-class="{error:signupForm.username.$dirty && signupForm.username.$invalid}">
        <label class="control-label">Nome do usúario</label>
        <div class="controls">                     
          <input type='text' name="username" ng-model='nonprofit.user.username' ng-minlength="3" placeholder="{{'USERNAME'|translate}}" required/>
          <label class="help-inline" ng-show="signupForm.username.alreadyUsed">Nome de usúario já é usado</label>
          <label class="help-inline" ng-show="signupForm.username.hasSpace">Não pode ter espaço.</label>
        </div>
      </div>
      <div class="control-group" ng-class="{error:signupForm.email.$dirty && signupForm.email.$invalid}">
        <label class="control-label">Email</label>
        <div class="controls">                     
          <input type='email' name="email" ng-model='nonprofit.user.email' placeholder="Email" required/>
          <label class="help-inline" ng-show="signupForm.email.alreadyUsed">Email já é usado</label>
        </div>
      </div>
      <div class="control-group" ng-class="{error:signupForm.password.$dirty && signupForm.password.$invalid}">
        <label class="control-label">Senha</label>
        <div class="controls">                     
          <input required type='password' name='password' ng-model='password' ng-minlength="6" placeholder="{{'PASSWORD'|translate}}"/>
          <input required type='password' name='passwordConfirm' ng-model='passwordConfirm' ng-minlength="6" placeholder="{{'PASSWORD_CONFIRM'|translate}}"/>
          <label class="help-inline" ng-show="signupForm.password.doesNotMatch">Senhas tem que ser igual</label>
          <label class="help-inline" ng-show="signupForm.password.$error.minlength">Senha tem que ter mais de 6 caracteres</label>
        </div>
      </div>
    </fieldset>
    <fieldset>
      <legend>Causas da sua ONG</legend>
      <div class="control-group">
        <div class="controls">
          <ul class="select-button-list">
            <li ng-repeat="cause in causes" ng-class="{active:cause.checked}">
              <label>{{cause.name}}
                <input type="checkbox" name="causes[]" ng-checked="cause.checked" ng-model="cause.checked"/>
              </label>
            </li>
          </ul>
        </div>
      </div>
    </fieldset>
    <fieldset>
      <legend>Logo da ONG</legend>
      <input id="file-input" type="file" name="file"
        onchange="angular.element(this).scope().uploadFile(this.files)"/>
      <img ng-show="{{nonprofit.image}}" class="img-rounded" alt="{{nonprofit.slug}}"
        ng-src="{{image}}" width="270" height="270"/>
    </fieldset>
    <div>
      <!-- TODO add terms and privacy urls -->
      <p class="alert">Ao clicar em "Registrar", você estará indicando que leu e concorda com os <a tabindex="-1"href="{{ terms_url }}">Termos de uso</a> e <a tabindex="-1" href="{{ privacy_url }}">Políticas de privacidade</a>.</p>
      <button type="submit" ng-disabled="signupForm.$invalid" class="btn btn-primary" translate>REGISTER_NONPROFIT_BTN</button>
    </div>
  </form> 
</div>
